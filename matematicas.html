<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Matemáticas - pyDayTF 2017</title>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">
		<link rel="stylesheet" href="lib/css/github.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">


				<section>
                    <h1>Matemáticas y python</h1>
                    <h2>#pyDayTF</h2>
                    <h3>Alberto Morales</h3>
				</section>


				<section>
                    <section>
                        <h2>Basado en...</h2>
                        <a title="No starch press"href="https://www.nostarch.com/doingmathwithpython"><img style="height: 300px" style="float: left" data-src="matematicas/Doing-Math-With-Python.jpg"></a>
                        <div class="fragment">245 páginas en 40 minutos</div>
                        <div class="fragment" >6.125 páginas por minuto</div>
                        <div class="fragment" >1 páginas cada 9.795918367346939 segundos</div>
                        <div class="fragment" >Y de matemáticas...</div>
                    </section>
                    <section>
                        <img height="600px" data-src="matematicas/16_tons.gif">
                    </section>
                    <section>
                        <h2>Índice</h2>
                        <ul>
                            <li><a href="#/2">Matemáticas básicas (python estandar)</a></li>
                            <li><a href="#/3">Matplotlib</a></li>
                            <li><a href="#/4">Sympy</a></li>
                            <li><a href="#/5">Scipy</a></li>
                            <li><a href="#/6">Numpy</a></li>
                        </ul>
                    </section>
				</section>


				<section>
                    <section>
                        <h2>Matemáticas básicas</h2>
                        <pre><code class="hlpython" data-trim>
    >>> 2+3, 2-3, 2*3, 2/3      # operaciones basicas
    (5, -1, 6, 0.6666666666666666)
    >>> 4/2, 5/2, 6/2           # división decimal
    (2.0, 2.5, 3.0)
    >>> 4//2, 5//2, 6//2        # división de enteros
    (2, 2, 3)
    >>> 9 % 3, 10 % 3, 11 % 3   # resto de la división (módulo)
    (0, 1, 2)
    >>> 5**2, 2**10, 144**0.5   # potencias y raices
    (25, 1024, 12.0)
                        </code></pre>
                    </section>
                    <section>
                        <h2>Trigonometría</h2>
                        <pre><code class="hlpython" data-trim>
    >>> from math import *    # importamos todo el módulo, no PEP-8
    >>> sin(90)               # esto esta mal, pues es en radianes
    0.8939966636005579
    >>> sin(pi/2)             # esto esta bien, en radianes
    1.0
    >>> sin(radians(90))      # convertir de grados a radianes
    1.0
    >>> cos(radians(90)), tan(radians(90))  # ~0 e ~infinito
    (6.123233995736766e-17    , 1.633123935319537e+16)
    >>> atan(1)               # para que x, ¿tan(x) da 1? 0.78 radianes
    0.7853981633974483
    >>> degrees(atan(1))      # o convertido a grados
    45.0

                        </code></pre>
                    </section>
                    <section>
                        <h2>Fracciones</h2>
                        <pre><code class="hlpython" data-trim>

    >>> from fractions import Fraction
    >>> Fraction(5, 2)
    Fraction(5, 2)
    >>> Fraction(5, 2)+Fraction(3, 5)
    Fraction(31, 10)
    >>> Fraction(5, 2) / Fraction(3, 5)
    Fraction(25, 6)
    >>> Fraction(5, 2) / Fraction(3, 5) - Fraction(1, 6)
    Fraction(4, 1)

                        </code></pre>
                    </section>
                    <section>
                        <h2>Números complejos</h2>
                        <pre><code class="hlpython" data-trim>

    >>> 2 + 3j + 5 + 6j                   # la 'j' es la 'i' imaginaria
    (7+9j)

    >>> (2 + 3j) * (5 + 6j)
    (-8+27j)

    >>> (2 + 3j) / (5 + 6j)
    (0.4590163934426229+0.04918032786885245j)

    >>> z = 2 + 3j

    >>> type(z), z.real, z.imag, abs(z)   # clase, parte real, imaginaria y módulo
    (&lt;class 'complex'&gt;, 2.0, 3.0, 3.605551275463989)

                        </code></pre>
                    </section>
                </section>


				<section>
                    <section>
                        <h2>Matplotlib</h2>
                        <p>Librería dedicada a hacer gráficas</p>
                        <div class="fragment"><img data-src="matematicas/circle.gif"></div>
                        <p><a href="http://matplotlib.org/">http://matplotlib.org/</a></p>
                        <p>Muy útil la <a href="http://matplotlib.org/gallery.html">Galería</a> porque trae muchos ejemplos complejos, cada uno con su código fuente</p>
                        <p>pylab: Inspirada en la sintaxis de MATLAB/Octave</p>
                    </section>

                    <section>
                        <h2>Matplotlib (simple Y)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, show
>>> plot([6, 2, 5, 4, 1])  # datos de la Y
[&lt;matplotlib.lines.Line2D object at 0x7f3b85528a10&gt;]
>>> show()  # y cerrar la ventana para continuar
                        </code></pre>
                        <img style="height: 400px" data-src="matematicas/pylab_simple.png">
                    </section>

                    <section>
                        <h2>Matplotlib (cuidado)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, show
>>> plot([4, 3, 2, 2, 5])
[&lt;matplotlib.lines.Line2D object at 0x7f3b85528150&gt;]
>>> plot([6, 2, 5, 4, 1])
[&lt;matplotlib.lines.Line2D object at 0x7f3b855283d0&gt;]
>>> show()  # muestra dos, cerrarla
>>> show()  # no muestra ninguna, cerrarla
                        </code></pre>
                        <img style="height: 400px" data-src="matematicas/pylab_cuidado.png">
                    </section>
                    <section>
                        <h2>Matplotlib (simple X Y)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, show
>>> plot([1, 2, 3, 4, 5], [6, 2, 5, 4, 1])  # datos de la X y de la Y
[&lt;matplotlib.lines.Line2D object at 0x7f3b8551b890&gt;]
>>> show()
                        </code></pre>
                        <img style="height: 400px" data-src="matematicas/pylab_simple.png">
                    </section>
                    <section>
                        <h2>Matplotlib (markers)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, show
>>> plot([1, 2, 3, 4, 5], [6, 2, 5, 4, 1], marker='o')  # 'o', '*', 'x', '+'
[&lt;matplotlib.lines.Line2D object at 0x7f3b8551b890&gt;]
>>> show()
                        </code></pre>
                        <img style="height: 400px" data-src="matematicas/pylab_markers.png">
                    </section>
                    <section>
                        <h2>Matplotlib (ranges)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, show
>>> plot(range(2012, 2017), [6, 2, 5, 4, 1], 'ro-')
[&lt;matplotlib.lines.Line2D object at 0x7f3b8551b890&gt;]
>>> show()
                        </code></pre>
                        <img style="height: 400px" data-src="matematicas/pylab_range.png">
                    </section>
                    <section>
                        <h2>Matplotlib (axis)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, axis, show
>>> plot(range(2012, 2017), [6, 2, 5, 4, 1], 'gx--')
[&lt;matplotlib.lines.Line2D object at 0x7f3b8551b890&gt;]
>>> axis()
(2012.0, 2016.0, 1.0, 6.0)
>>> axis(xmin=2010, ymin=0)
(2010, 2016.0, 0, 6.0)
>>> show()
                        </code></pre>
                        <img style="height: 300px" data-src="matematicas/pylab_axis.png">
                    </section>
                    <section>
                        <h2>Matplotlib (guardar)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, savefig  # ojo!
>>> plot(range(2012, 2017), [6, 2, 5, 4, 1])
[&lt;matplotlib.lines.Line2D object at 0x7f3b8551b890&gt;]
>>> savefig("salida.png")
                        </code></pre>
                        <img style="height: 300px" data-src="matematicas/pylab_guardar.png">
                    </section>
                    <section>
                        <h2>Matplotlib (subplot)</h2>
                        <pre><code class="hlpython" data-trim>
>>> from pylab import plot, subplot, show
>>> subplot(211)  # En una rejilla 2 filas 1 columna, la posicion 1
>>> plot(range(2012, 2017), [6, 2, 5, 4, 1], 'ro--')
>>> subplot(212)  # En una rejilla 2 filas 1 columna, la posicion 2
>>> plot(range(2012, 2017), [4, 3, 2, 2, 5], 'gx-')
>>> show()
                        </code></pre>
                        <img style="height: 300px" data-src="matematicas/pylab_subplot.png">
                    </section>
                    <section>
                        <h2>Matplotlib (pyplot)</h2>
                        <p>La forma aconsejada de usar esta librería, sin las limitaciones de MATLAB</p>
                        <pre><code class="hlpython" data-trim>
import matplotlib.pyplot as plt
plt.figure(1)
plt.subplot(211)
plt.plot(range(2012, 2017), [6, 2, 5, 4, 1], 'ro--')
plt.axis([2010, 2020, 0, 10])
plt.xlabel(u'año')
plt.ylabel('medias de dia')
plt.subplot(212)
plt.plot(range(2012, 2017), [4, 3, 2, 2, 5], 'gx-')
plt.axis([2010, 2020, 0, 10])
plt.xlabel(u'año')
plt.ylabel('medias nocturnas')
plt.show()
                        </code></pre>
                    </section>
                </section>


				<section>
                    <section>
                        <h2>Sympy</h2>
                        <p>Librería dedicada a álgebra (symbolic math)</p>
                        <div class="fragment"><img data-src="matematicas/runners.gif"></div>
                        <p><a href="http://www.sympy.org/">http://www.sympy.org/</a></p>
                        <p>Muy útil la <a href="http://docs.sympy.org/latest/index.html">Ayuda</a> porque la forman muchos módulos para tareas diferentes</p>
                    </section>
                    <section>
                        <h2>Sympy (symbol)</h2>
                        <p>La variable, la incógnita, el core</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import Symbol
>>> x = Symbol('x')
>>> x + x + 1
2*x + 1
>>> type(2*x)
&lt;class 'sympy.core.mul.Mul'&gt;
>>> type(2*x+1)
&lt;class 'sympy.core.add.Add'&gt;
                        </code></pre>
                        <p>Es decir, las incognitas y operaciones algebraicas pasan a ser clases de sympy.</p>
                    </section>
                    <section>
                        <h2>Sympy (symbols)</h2>
                        <p>Un atajo para definir más incógnitas de una vez</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import Symbol, symbols
>>> x = Symbol('x')
>>> y = Symbol('y')
>>> z = Symbol('z')
>>> # equivalente a ...
>>> x, y, z = symbols('x,y,z')
                        </code></pre>
                        <p>Es decir, las incognitas y operaciones algebraicas pasan a ser clases de sympy.</p>
                    </section>
                    <section>
                        <h2>Sympy (sin hacer nada)</h2>
                        <p>Hay operaciones básicas que sympy resuelve sin que se lo digas</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import Symbol, symbols
>>> x, y = symbols("x,y")
>>> x*y+x*y
2*x*y
>>> x*(x+x)
2*x**2
>>> x*y/y
x
                        </code></pre>
                    </section>
                    <section>
                        <h2>Sympy (expandir y factorizar)</h2>
                        <p>Para desarrollar y simplificar expresiones</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import symbols, factor, expand
>>> x, y = symbols("x,y")
>>> factor(x**2 - y**2)
(x - y)*(x + y)
>>> factor(x**3 + 3*x**2*y + 3*x*y**2 + y**3)
(x + y)**3
>>> expand((x - y)*(x + y))
x**2 - y**2
>>> expand((x - 1)*(x + 1)*(2*x+3))
2*x**3 + 3*x**2 - 2*x - 3
                        </code></pre>
                    </section>
                    <section>
                        <h2>Sympy (evaluar)</h2>
                        <p>En una f(x,y), evaluamos para un punto (x, y) concreto.</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import symbols
>>> x, y = symbols("x,y")
>>> f = x*x + x*y + x*y + y*y
>>> f.subs({x: 1, y: 2})  # evaluar en un punto f(1, 2)
9
                        </code></pre>
                    </section>

                    <section>
                        <h2>Sympy (cambio de variable)</h2>
                        <p>Sustituimos en una f(x,y) la x o la y por otra ecuación</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import symbols, simplify
>>> x, y = symbols("x,y")
>>> f = x*x + x*y + x*y + y*y
>>> f.subs({x: 1-y})      # cambio de variable x -&gt; 1-y
y**2 + 2*y*(-y + 1) + (-y + 1)**2
>>> simplify(_)
1
>>> f.subs({x: 2-y**2})   # cambio de variable x -&gt; 2-y**2
y**2 + 2*y*(-y**2 + 2) + (-y**2 + 2)**2
>>> simplify(_)
y**2 - 2*y*(y**2 - 2) + (y**2 - 2)**2
>>> expand(_)
y**4 - 2*y**3 - 3*y**2 + 4*y + 4
                        </code></pre>
                    </section>

                    <section>
                        <h2>Sympy (despejando)</h2>
                        <pre><code class="hlpython" data-trim>
&gt;&gt;&gt; from sympy import symbols, solve, pprint
>>> x, a, b, c = symbols("x,a,b,c")
>>> f = x**2 + 5*x + 4      # f(x) = 0
>>> solve(f, dict=True)     # despeja (resuelve) x
[{x: -4}, {x: -1}]
>>> f = a*x**2 + b*x + c    # f(x, a, b, c) = 0
>>> pprint(solve(f, x, dict=True))  # despeja x
⎡⎧           _____________⎫  ⎧    ⎛       _____________⎞ ⎫⎤
⎢⎪          ╱           2 ⎪  ⎪    ⎜      ╱           2 ⎟ ⎪⎥
⎢⎨   -b + ╲╱  -4⋅a⋅c + b  ⎬  ⎨   -⎝b + ╲╱  -4⋅a⋅c + b  ⎠ ⎬⎥
⎢⎪x: ─────────────────────⎪, ⎪x: ────────────────────────⎪⎥
⎣⎩            2⋅a         ⎭  ⎩             2⋅a           ⎭⎦
>>> pprint(solve(f, a, dict=True))  # despeja a
⎡⎧   -(b⋅x + c) ⎫⎤
⎢⎪a: ───────────⎪⎥
⎢⎨         2    ⎬⎥
⎢⎪        x     ⎪⎥
⎣⎩              ⎭⎦
                        </code></pre>
                    </section>

                    <section>
                        <h2>Sympy (representando)</h2>
                        <pre><code class="hlpython" data-trim>
&gt;&gt;&gt; from sympy.plotting import plot
&gt;&gt;&gt; from sympy import Symbol
>>> plot(2*x**2 + 3*x)
>>> plot(2*x**2 + 3*x, (x, -5, 5))
                        </code></pre>
                        <img style="height: 300px" data-src="matematicas/sympy_plot.png">
                    </section>

                    <section>
                        <h2>Sympy (derivadas e integrales)</h2>
                        <pre><code class="hlpython" data-trim>
&gt;&gt;&gt; from sympy import Symbol, Derivative, Integral
>>> Derivative(2*x**2+3*x+1, x).doit()
4*x + 3
>>> Derivative(2*sin(x)*x**2, x).doit()
2*x**2*cos(x) + 4*x*sin(x)
>>> Integral(4*x + 3, x).doit()
2*x**2 + 3*x
>>> Integral(sin(x)**2, x).doit()
x/2 - sin(x)*cos(x)/2
                        </code></pre>
                    </section>
                </section>
				<section>
                    <section>
                        <h2>Scipy</h2>
                        <p>Librería dedicada a aglutinar librerías científicas</p>
                        <div class="fragment"><img data-src="matematicas/doc.gif"></div>
                        <p><a href="http://scipy.org/">http://scipy.org/</a></p>
                        <p>Matplotlib y sympy están incluidas en ella.</p>
                        <p>Muy útil el <a href="https://docs.scipy.org/doc/scipy/reference/tutorial/index.html">Tutorial</a> porque enlaza a todos los módulos de que dispone.</li>
                    </section>
                    <section>
                        <h2>Scipy (módulos)</h2>
                        <p>Si no sabes de lo que estoy hablando, es que no lo necesitas</p>
                        <ul>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/integrate.html">Integración</a> (simpson, cuadratura gausiana, ...)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html">Optimización</a> (gradiente conjugado, mínimos cuadrados, etc)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/interpolate.html">Interpolación</a> (spline)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/fftpack.html">Transformadas de Fourier</a> (FFT, la del coseno DCT, y del seno DST)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/signal.html">Procesamiento de señal</a> (Filtros FIR, IIR, polos, ceros, etc)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/linalg.html">Algebra lineal</a> (inversa, determinante, autovalores, LU, etc)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/spatial.html">Datos espaciales</a> (triangulación, delaunay, voronoi)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/stats.html">Estadística</a> (distribuciones de probabilidad, muestreo)</li>
                            <li><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/ndimage.html">Procesamiento de imágenes multidimensional</a> (filtrado, interpolado, morfologia, segmentado)</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Sympy (symbol)</h2>
                        <p>La variable, la incógnita, el core</p>
                        <pre><code class="hlpython" data-trim>
>>> from sympy import Symbol
>>> x = Symbol('x')
>>> x + x + 1
2*x + 1
>>> type(2*x)
&lt;class 'sympy.core.mul.Mul'&gt;
>>> type(2*x+1)
&lt;class 'sympy.core.add.Add'&gt;
                        </code></pre>
                        <p>Es decir, las incognitas y operaciones algebraicas pasan a ser clases de sympy.</p>
                    </section>
                </section>
				<section>
                    <section>
                        <h2>Numpy</h2>
                        <p>La librería más importante para calculo vectorial/matricial</p>
                        <div class="fragment"><img data-src="matematicas/neo.gif"></div>
                        <p><a href="http://www.numpy.org/">http://www.numpy.org/</a></p>
                        <p>Muy útil el <a href="https://docs.scipy.org/doc/numpy/reference/routines.html">Índice por categorías</a> porque enlaza a todos los módulos de que dispone.</li>
                    </section>
                    <section>
                        <h2>Numpy (módulos)</h2>
                        <p>Todo se trabaja con vectores y matrices</p>
                        <pre><code class="hlpython" data-trim>
>>> import numpy as np
>>> a = np.arange(10).reshape(2, 3)  # vector de 6 numeros consecutivos convertido a matriz de 2x3
>>> b = np.array([(1.5,2,3), (4,5,6)])  # matriz 2 filas y 3 columnas definida a mano
>>> c = np.sin(b)                    # calcular el seno() de todos los elementos
>>> d = c > 0.5                      # matriz booleana que indica si los elementos son > 0.5
>>> e = c * d                        # producto elemento a elemento (valores * booleano: mascara)
>>> import matplotlib.pyplot as plt
>>> plt.imshow(c, cmap='gray')
>>> plt.show()                       # mostrar una matriz como una imagen en escala de grises

                        </code></pre>
                        <img style="height: 300px" data-src="matematicas/numpy_imshow.png">
                    </section>
                </section>
				<section>
                    <section>
                        <h2>Pero tanta caña en 40 minutos</h2>
                        <img data-src="matematicas/rick.gif">
                        <h3>no puede ser bueno, así que paramos.</h3>
                    </section>
                    <section>
                        <h3>Gracias por resistir a este taller!!</h3>
                        <img data-src="matematicas/picard.gif">
                    </section>
                    <section>
                        <h3>Matemáticas y python</h3>
                        <ul>
                            <li><a href="#/2">Matemáticas básicas (python estandar)</a></li>
                            <li><a href="#/3">Matplotlib</a></li>
                            <li><a href="#/4">Sympy</a></li>
                            <li><a href="#/5">Scipy</a></li>
                            <li><a href="#/6">Numpy</a></li>
                        </ul>
                        <h2>¿Preguntas?</h2>
                    </section>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
                width: "100%",
                height: "100%",
                margin: 0,
                transition: "fade",
                center: false,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
